<script>
    import { translateText } from 'lang'

    import { fly } from 'svelte/transition';
    import { inVehicle, isInputToggled } from 'store/hud'
    import keys from 'store/keys'
    import keysName from 'json/keys.js'

    let speed = 10;
    let rpm = 0;
    let maxSpeed = 100;
    let fuel = 0;

    let speedDeg = 0;
    let fuelDeg = 0;

    let speedometerTest;
    let fuelTest;

    const GetCircle = (element, r, maxWidth = 160) => {
        if (!element) return r;
        element = element.getBoundingClientRect();
        return r / 100 * (element.width * 100 / maxWidth);
    }

    let FuelProcent = 0;
    const maxFuel = 500;



    window.vehicleState = {}

    window.vehicleState.speed = (value) => {
        speed = value;
        //speedDeg = !(speed > maxSpeed) ? (speed * 185 / maxSpeed) : (maxSpeed * 185 / maxSpeed);
    }

    window.vehicleState.rpm = (value) => {
        rpm = value;
        //speedDeg = !(speed > maxSpeed) ? (speed * 185 / maxSpeed) : (maxSpeed * 185 / maxSpeed);
    }

    window.vehicleState.maxSpeed = (value) => {
        maxSpeed = value * 1.15;
        //speedDeg = !(speed > maxSpeed) ? (speed * 185 / maxSpeed) : (maxSpeed * 185 / maxSpeed);
    }

    window.vehicleState.fuel = (value) => {
        fuel = value;
        //fuelDeg = !(fuel > maxFuel) ? (fuel * 62 / maxFuel) : (maxFuel * 62 / maxFuel);
        FuelProcent = value;
    }

    // Simple color interpolator for Speed.
    const InterpolateColor = (start, end, steps, count) => {
        var
            s = start,
            e = end,
            final = s + (((e - s) / steps) * count);
        return Math.floor(final);
    }

    const Color = (_r, _g, _b) => {
        return {
            r: _r,
            g: _g,
            b: _b
        };
    }

    const getSpeedColor = (value, max) => {
        let speed_percent = Math.floor(value / max * 100);
        if(speed_percent > 100) speed_percent = 100;

        let
            start = Color(255, 255, 255),
            end = Color(225, 228, 66);
    
        if (speed_percent > 50) {
            speed_percent = speed_percent % 51;
            start = Color(225, 228, 66);
            end = Color(228, 66, 66);
        }

        const start_colors = start;
        const end_colors = end;
        
        const 
            r = InterpolateColor(start_colors.r, end_colors.r, 50, speed_percent),
            g = InterpolateColor(start_colors.g, end_colors.g, 50, speed_percent),
            b = InterpolateColor(start_colors.b, end_colors.b, 50, speed_percent);

        return `rgb(${r}, ${g}, ${b})`;          
    }

    let autoPilot = false;
    window.vehicleState.autoPilot = (value) => autoPilot = value;

    let belt = false;
    window.vehicleState.belt = (value) => belt = value;

    let cruiseControl = false;
    window.vehicleState.cruiseControl = (value) => cruiseControl = value;

    let rightIL = false;
    window.vehicleState.rightIL = (value) => rightIL = value;

    let leftIL = false;
    window.vehicleState.leftIL = (value) => leftIL = value;

    let doors = false;
    window.vehicleState.doors = (value) => doors = value;

    let engine = false;
    window.vehicleState.engine = (value) => engine = value;

    let isToggledVehicleHud = false;
    window.vehicleState.isToggledVehicleHud = (value) => isToggledVehicleHud = value;

    let lightsOn = false;
    window.vehicleState.lightsOn = (value) => lightsOn = value;

    let highbeamsOn = false;
    window.vehicleState.highbeamsOn = (value) => highbeamsOn = value;


</script>
{#if $inVehicle && isToggledVehicleHud}
<div class="speedgta5dev">
    <div class="speed">
        <div class="speedbg">
            <div class="sbg">
                <svg width="75" height="171" viewBox="0 0 75 171" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <mask id="path-1-inside-1_0_208" fill="white">
                    <path d="M48.8356 170.476C60.0992 157.191 67.9329 141.348 71.6504 124.332C75.3679 107.317 74.8557 89.6499 70.1586 72.8786C65.4616 56.1074 56.7231 40.744 44.7088 28.1347C32.6945 15.5255 17.7711 6.05509 1.24629 0.553482L0.194815 3.71174C16.2031 9.04139 30.6601 18.2158 42.2989 30.4309C53.9376 42.6461 62.403 57.5293 66.9533 73.7764C71.5035 90.0234 71.9997 107.138 68.3984 123.622C64.7972 140.105 57.2083 155.454 46.2967 168.323L48.8356 170.476Z"/>
                    </mask>
                    <path d="M48.8356 170.476C60.0992 157.191 67.9329 141.348 71.6504 124.332C75.3679 107.317 74.8557 89.6499 70.1586 72.8786C65.4616 56.1074 56.7231 40.744 44.7088 28.1347C32.6945 15.5255 17.7711 6.05509 1.24629 0.553482L0.194815 3.71174C16.2031 9.04139 30.6601 18.2158 42.2989 30.4309C53.9376 42.6461 62.403 57.5293 66.9533 73.7764C71.5035 90.0234 71.9997 107.138 68.3984 123.622C64.7972 140.105 57.2083 155.454 46.2967 168.323L48.8356 170.476Z" stroke="white" stroke-dashoffset="508" stroke-dasharray={508 + speed * 0.75} stroke-opacity="1" stroke-width="10" mask="url(#path-1-inside-1_0_208)"/>
                </svg>                    
                <svg width="75" height="171" viewBox="0 0 75 171" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <mask id="path-1-inside-1_0_208" fill="white">
                    <path d="M48.8356 170.476C60.0992 157.191 67.9329 141.348 71.6504 124.332C75.3679 107.317 74.8557 89.6499 70.1586 72.8786C65.4616 56.1074 56.7231 40.744 44.7088 28.1347C32.6945 15.5255 17.7711 6.05509 1.24629 0.553482L0.194815 3.71174C16.2031 9.04139 30.6601 18.2158 42.2989 30.4309C53.9376 42.6461 62.403 57.5293 66.9533 73.7764C71.5035 90.0234 71.9997 107.138 68.3984 123.622C64.7972 140.105 57.2083 155.454 46.2967 168.323L48.8356 170.476Z"/>
                    </mask>
                    <path d="M48.8356 170.476C60.0992 157.191 67.9329 141.348 71.6504 124.332C75.3679 107.317 74.8557 89.6499 70.1586 72.8786C65.4616 56.1074 56.7231 40.744 44.7088 28.1347C32.6945 15.5255 17.7711 6.05509 1.24629 0.553482L0.194815 3.71174C16.2031 9.04139 30.6601 18.2158 42.2989 30.4309C53.9376 42.6461 62.403 57.5293 66.9533 73.7764C71.5035 90.0234 71.9997 107.138 68.3984 123.622C64.7972 140.105 57.2083 155.454 46.2967 168.323L48.8356 170.476Z" stroke="white" stroke-opacity="0.15" stroke-width="4" mask="url(#path-1-inside-1_0_208)"/>
                </svg>                   
            </div>
            <div class="infospeed">
                <p>
                    <span class:active={leftIL}>
                        <svg width="7" height="12" viewBox="0 0 7 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M5.61538 1L1.62611 5.32172C1.27251 5.70478 1.27251 6.29522 1.6261 6.67828L5.61538 11" stroke-width="1.3" stroke-linecap="round"/>
                        </svg>
                    </span>
                    {speed <10 ? `00` : ``}{speed <100 && speed > 9 ? `0` : ``}{speed}
                    <span class:active={rightIL}>
                        <svg width="6" height="12" viewBox="0 0 6 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M0.999972 11L4.98925 6.67828C5.34285 6.29522 5.34285 5.70478 4.98925 5.32172L0.999972 1" stroke-width="1.3" stroke-linecap="round"/>
                        </svg>                            
                    </span>
                </p>
                <b>KM/H</b>
            </div>
        </div>
        <div class="speedbtn">
            <div class="sbtn" class:act={engine}>
                <svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12.8027 5.45455C12.56 5.45455 12.3633 5.63771 12.3633 5.86364V6.27273H11.4844V5.86364C11.4844 5.63771 11.2876 5.45455 11.0449 5.45455H10.348L9.59783 4.75617C9.51542 4.67945 9.40368 4.63636 9.28711 4.63636H8.84766V3.81818H9.28711C9.5298 3.81818 9.72656 3.63502 9.72656 3.40909C9.72656 3.18316 9.5298 3 9.28711 3H4.83398C4.59129 3 4.39453 3.18316 4.39453 3.40909C4.39453 3.63502 4.59129 3.81818 4.83398 3.81818H5.27344V4.63636H4.83398C4.71741 4.63636 4.60567 4.67945 4.52326 4.75617L3.77306 5.45455H2.19727C1.95457 5.45455 1.75781 5.63771 1.75781 5.86364V7.5H0.878906V5.86364C0.878906 5.63771 0.682148 5.45455 0.439453 5.45455C0.196758 5.45455 0 5.63771 0 5.86364V9.95455C0 10.1805 0.196758 10.3636 0.439453 10.3636C0.682148 10.3636 0.878906 10.1805 0.878906 9.95455V8.31818H1.75781V9.95455C1.75781 10.1805 1.95457 10.3636 2.19727 10.3636H3.77306L5.40217 11.8802C5.48458 11.9569 5.59632 12 5.71289 12H10.166C10.3325 12 10.4846 11.9125 10.5591 11.7739L11.3165 10.3636H12.3633V10.7727C12.3633 10.9987 12.56 11.1818 12.8027 11.1818C14.0143 11.1818 15 10.2642 15 9.13636V7.5C15 6.37214 14.0143 5.45455 12.8027 5.45455ZM3.51562 9.54545H2.63672V6.27273H3.51562V9.54545ZM6.15234 3.81818H7.96875V4.63636H6.15234V3.81818ZM10.6055 9.85797L9.8944 11.1818H5.89491L4.39453 9.7851V6.03308L5.01601 5.45455C5.19475 5.45455 8.94747 5.45455 9.10506 5.45455L9.85526 6.15292C9.93771 6.22964 10.0494 6.27273 10.166 6.27273H10.6055C10.6055 6.43999 10.6055 9.72483 10.6055 9.85797ZM12.3633 9.54545H11.4844V7.09091H12.3633V9.54545ZM14.1211 9.13636C14.1211 9.66971 13.7537 10.1247 13.2422 10.2935C13.2422 10.0063 13.2422 6.45115 13.2422 6.34285C13.7537 6.51169 14.1211 6.96665 14.1211 7.50003V9.13636Z"/>
                </svg>                    
                <span>{keysName[$keys[38]]}</span>
            </div>
            <div class="sbtn" class:act={!doors}>
                <svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_0_272)">
                    <path d="M6.62821 11.3971L8.86344 11.3971L6.72937 13.5541C6.62229 13.6623 6.56879 13.8041 6.56879 13.9459C6.56879 14.0877 6.62229 14.2295 6.72937 14.3377C6.94344 14.5541 7.29053 14.5541 7.50453 14.3377L10.4139 11.3971L10.7442 11.3971L13.3665 11.3971C14.2672 11.3971 15 10.6018 15 9.62421L15 5.37579C15 4.39824 14.2672 3.60285 13.3665 3.60285L10.7442 3.60285L10.4139 3.60285L7.50453 0.662279C7.29046 0.445906 6.94337 0.445906 6.72937 0.662279C6.62237 0.770503 6.56879 0.912338 6.56879 1.0541C6.56879 1.19586 6.62229 1.3377 6.72937 1.44592L8.86344 3.60285L6.62814 3.60285L3.71868 0.662279C3.50461 0.445906 3.15752 0.445906 2.94345 0.662353C2.83637 0.770502 2.78287 0.912338 2.78287 1.0541C2.78287 1.19586 2.83637 1.3377 2.94345 1.44592L5.07759 3.60285L3.25187 3.60285L1.6335 3.60285C0.732773 3.60285 7.83277e-07 4.39824 7.40547e-07 5.37579L5.54843e-07 9.6242C5.12112e-07 10.6018 0.732772 11.3971 1.6335 11.3971L3.25195 11.3971L5.07767 11.3971L2.94352 13.5541C2.83644 13.6623 2.78295 13.8041 2.78295 13.9459C2.78295 14.0877 2.83644 14.2295 2.94352 14.3376C3.15759 14.5541 3.50461 14.5541 3.71876 14.3377L6.62821 11.3971ZM6.40091 10.2891L3.8001 10.2891L3.8001 4.71094L6.40091 4.71094C6.40106 4.71094 6.40113 4.71094 6.40128 4.71094L10.1865 4.71094C10.1867 4.71094 10.187 4.71094 10.1872 4.71094L10.196 4.71094L10.196 10.2891L10.1872 10.2891C10.187 10.2891 10.1867 10.2891 10.1865 10.2891L6.40128 10.2891C6.4012 10.2891 6.40106 10.2891 6.40091 10.2891ZM13.9037 5.37579L13.9037 9.62421C13.9037 9.98463 13.6577 10.2891 13.3665 10.2891L11.2924 10.2891L11.2924 4.71094L13.3665 4.71094C13.6577 4.71094 13.9037 5.01537 13.9037 5.37579ZM1.09646 9.6242L1.09646 5.37579C1.09646 5.01537 1.34247 4.71094 1.63365 4.71094L2.70379 4.71094L2.70379 10.2891L1.63357 10.2891C1.34239 10.2891 1.09646 9.98463 1.09646 9.6242Z"/>
                    </g>
                    <defs>
                    <clipPath id="clip0_0_272">
                    <rect width="15" height="15"/>
                    </clipPath>
                    </defs>
                </svg>                                   
                <span>{keysName[$keys[39]]}</span>
            </div>
            <div class="sbtn" class:act={lightsOn}>
                <svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9.60938 9.66183H15V10.7849H9.4249C9.49265 10.4398 9.55627 10.0633 9.60938 9.66183ZM9.75586 7.5C9.75586 7.68962 9.7522 7.87683 9.74556 8.06152H15V6.93848H9.74556C9.7522 7.12306 9.75586 7.31038 9.75586 7.5ZM9.40819 4.13091C9.47731 4.47462 9.54288 4.85123 9.59805 5.25394H15V4.13091H9.40819ZM7.73827 12.6004C7.77283 12.5068 8.58398 10.2765 8.58398 7.5C8.58398 4.72346 7.77283 2.49308 7.73827 2.39953L7.59087 2L7.14958 2.02632C7.07817 2.0306 5.38078 2.1384 3.65925 2.83054C1.26537 3.79279 0 5.40748 0 7.5C0 9.59241 1.26537 11.2071 3.65925 12.1695C5.38078 12.8615 7.07806 12.9694 7.14947 12.9737L7.59087 13L7.73827 12.6004ZM7.41211 7.5C7.41211 9.40093 6.99211 11.0588 6.76907 11.8054C6.18725 11.7301 5.1289 11.5462 4.08783 11.124C2.15298 10.3389 1.17188 9.11973 1.17188 7.5C1.17188 5.88027 2.15298 4.66095 4.08783 3.87603C5.12924 3.45358 6.18805 3.26966 6.76952 3.19454C6.9928 3.93942 7.41211 5.59282 7.41211 7.5Z"/>
                </svg>                                       
                <span>H</span>
            </div>
            <div class="sbtn" class:act={belt}>
                <svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_0_222)">
                    <path d="M5.53339 2.59157L3.03335 0.0915303C2.91147 -0.0303473 2.71333 -0.0303473 2.59145 0.0915303C2.46957 0.213408 2.46957 0.411547 2.59145 0.533424L4.87089 2.81221L2.81271 4.87039L0.533302 2.59157C0.411425 2.4697 0.213286 2.4697 0.0914082 2.59157C-0.0304694 2.71345 -0.0304694 2.91159 0.0914082 3.03347L2.59145 5.53351C2.65271 5.59413 2.7327 5.62477 2.81271 5.62477C2.89272 5.62477 2.9727 5.59416 3.03335 5.53351L5.53339 3.03347C5.65527 2.91159 5.65527 2.71345 5.53339 2.59157Z"/>
                    <path d="M7.59139 3.39911L6.60011 2.40783C6.23447 2.0422 5.64008 2.0422 5.27445 2.40783L2.42565 5.25663C2.24814 5.43476 2.15063 5.6704 2.15063 5.92101C2.15063 6.17101 2.24814 6.40603 2.42439 6.58164C2.72065 6.87728 3.10503 7.27166 3.39754 7.57354C3.57379 7.75542 3.80943 7.85667 4.06192 7.85854C4.06505 7.85854 4.06754 7.85854 4.07003 7.85854C4.32067 7.85854 4.55567 7.76104 4.73318 7.58291L7.59136 4.72474C7.95702 4.35913 7.95702 3.76474 7.59139 3.39911ZM7.15014 4.28349L4.29196 7.14166C4.23196 7.20166 4.14257 7.23105 4.06822 7.23354C3.98445 7.23292 3.90635 7.19979 3.84758 7.13917C3.55258 6.8348 3.16568 6.43791 2.86693 6.13978C2.80819 6.08103 2.77567 6.00351 2.77567 5.92101C2.77567 5.83725 2.80816 5.7585 2.86754 5.69914L5.71635 2.85034C5.77761 2.78908 5.85759 2.75908 5.9376 2.75908C6.01761 2.75908 6.09759 2.78908 6.15886 2.85034L7.15014 3.84098C7.20888 3.90036 7.2414 3.97847 7.2414 4.06223C7.24137 4.14599 7.20888 4.22413 7.15014 4.28349Z"/>
                    <path d="M8.97163 6.65419L7.09659 4.77915C6.97471 4.65727 6.77657 4.65727 6.65469 4.77915C6.53281 4.90103 6.53281 5.09917 6.65469 5.22104L8.30848 6.87483L6.87533 8.30797L5.22093 6.65419C5.09905 6.53231 4.90091 6.53231 4.77903 6.65419C4.65715 6.77606 4.65715 6.9742 4.77903 7.09608L6.65408 8.97111C6.71534 9.03173 6.79532 9.06238 6.87533 9.06238C6.95534 9.06238 7.03533 9.03176 7.09659 8.97111L8.97163 7.09608C9.09351 6.97417 9.09351 6.77606 8.97163 6.65419Z"/>
                    <path d="M6.15835 3.84153C6.03647 3.71965 5.83833 3.71965 5.71645 3.84153L3.84141 5.71657C3.71953 5.83845 3.71953 6.03659 3.84141 6.15847C3.90267 6.21909 3.98265 6.24973 4.06266 6.24973C4.14268 6.24973 4.22266 6.21912 4.2833 6.15847L6.15835 4.28343C6.28023 4.16152 6.28023 3.96341 6.15835 3.84153Z"/>
                    <path d="M14.9085 11.9668L13.0335 10.0917C12.9116 9.96984 12.7134 9.96984 12.5916 10.0917L10.0915 12.5918C9.96965 12.7136 9.96965 12.9118 10.0915 13.0337L11.9666 14.9087C12.0278 14.9693 12.1078 15 12.1878 15C12.2678 15 12.3478 14.9693 12.4085 14.9081C12.5303 14.7862 12.5303 14.5881 12.4085 14.4662L10.7547 12.8124L12.8129 10.7542L14.4666 12.4086C14.5885 12.5305 14.7866 12.5305 14.9085 12.4086C15.0304 12.2868 15.0304 12.0886 14.9085 11.9668Z"/>
                    <path d="M13.1025 10.1961C13.0844 10.1498 13.0562 10.1098 13.0206 10.0786C12.9137 9.94041 12.4125 9.16728 11.3025 7.376C11.1518 7.13286 10.9025 6.97412 10.6187 6.94099C10.3318 6.90785 10.0505 7.00661 9.84555 7.21161L7.20488 9.85229C7.00299 10.0548 6.90487 10.3329 6.93613 10.6173C6.96739 10.9017 7.12364 11.153 7.3649 11.3067L10.145 13.0761C10.1969 13.1093 10.255 13.1249 10.3131 13.1249C10.3937 13.1249 10.4738 13.0936 10.5331 13.0324L13.0332 10.5323C13.1213 10.4442 13.1488 10.3123 13.1025 10.1961ZM10.2699 12.4142L7.70112 10.7798C7.62049 10.7286 7.56861 10.6448 7.558 10.5498C7.54739 10.4548 7.5805 10.3617 7.64739 10.2948L10.2881 7.65412C10.3487 7.59412 10.4281 7.56098 10.5112 7.56098C10.5231 7.56098 10.535 7.5616 10.5487 7.56286C10.6031 7.5691 10.7049 7.59599 10.7731 7.70598C11.6987 9.20039 12.1506 9.9279 12.4012 10.2829L10.2699 12.4142Z"/>
                    <path d="M11.1586 8.84171C11.0367 8.71984 10.8386 8.71984 10.7167 8.84171L8.84165 10.7168C8.71977 10.8386 8.71977 11.0368 8.84165 11.1587C8.90291 11.2193 8.9829 11.2499 9.06291 11.2499C9.14292 11.2499 9.2229 11.2193 9.28355 11.1587L11.1586 9.28361C11.2805 9.16173 11.2805 8.96359 11.1586 8.84171Z"/>
                    <path d="M9.063 3.12463C8.8905 3.12463 8.75049 3.26465 8.75049 3.43715V4.06215C8.75049 4.23466 8.8905 4.37467 9.063 4.37467C9.23551 4.37467 9.37552 4.23466 9.37552 4.06215V3.43715C9.37549 3.26465 9.23551 3.12463 9.063 3.12463Z"/>
                    <path d="M11.563 5.62476H10.938C10.7655 5.62476 10.6255 5.76477 10.6255 5.93727C10.6255 6.10978 10.7655 6.24979 10.938 6.24979H11.563C11.7355 6.24979 11.8755 6.10978 11.8755 5.93727C11.8755 5.76477 11.7355 5.62476 11.563 5.62476Z"/>
                    <path d="M11.1584 3.84153C11.0366 3.71965 10.8384 3.71965 10.7165 3.84153L10.0915 4.46654C9.96965 4.58841 9.96965 4.78655 10.0915 4.90843C10.1528 4.96905 10.2328 4.99969 10.3128 4.99969C10.3928 4.99969 10.4728 4.96908 10.5334 4.90843L11.1584 4.28343C11.2803 4.16152 11.2803 3.96341 11.1584 3.84153Z"/>
                    <path d="M5.93788 10.6248C5.76538 10.6248 5.62537 10.7648 5.62537 10.9373V11.5623C5.62537 11.7348 5.76538 11.8749 5.93788 11.8749C6.11039 11.8749 6.2504 11.7348 6.2504 11.5623V10.9373C6.2504 10.7648 6.11039 10.6248 5.93788 10.6248Z"/>
                    <path d="M4.06276 8.74976H3.43776C3.26526 8.74976 3.12524 8.88977 3.12524 9.06227C3.12524 9.23478 3.26526 9.37479 3.43776 9.37479H4.06276C4.23527 9.37479 4.37528 9.23478 4.37528 9.06227C4.37528 8.88977 4.23527 8.74976 4.06276 8.74976Z"/>
                    <path d="M4.90831 10.0917C4.78643 9.96984 4.58829 9.96984 4.46642 10.0917L3.84141 10.7167C3.71953 10.8386 3.71953 11.0367 3.84141 11.1586C3.90267 11.2192 3.98265 11.2499 4.06266 11.2499C4.14268 11.2499 4.22266 11.2193 4.28331 11.1586L4.90831 10.5336C5.03019 10.4117 5.03019 10.2136 4.90831 10.0917Z"/>
                    </g>
                    <defs>
                    <clipPath id="clip0_0_222">
                    <rect width="15" height="15"/>
                    </clipPath>
                    </defs>
                </svg>                                       
                <span>G</span>
            </div>
        </div>
    </div>
    <div class="fuel">
        <svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_0_213)">
            <path d="M7.34215 1.88L7.34881 1.87333L5.69325 0.222229L5.22215 0.693333L6.15992 1.6311C5.74215 1.7911 5.44436 2.19333 5.44436 2.66667C5.44436 3.28 5.94213 3.77777 6.55546 3.77777C6.71323 3.77777 6.86436 3.74444 6.9999 3.68444V6.88888C6.99992 7.13333 6.79992 7.33333 6.55548 7.33333C6.31104 7.33333 6.11104 7.13333 6.11104 6.8889V4.8889C6.11104 4.39779 5.71327 4 5.22215 4H4.77771V0.888896C4.77769 0.397771 4.37992 0 3.88881 0H1.22215C0.731023 0 0.333252 0.397771 0.333252 0.888896V8H4.77769V4.66667H5.44436V6.8889C5.44436 7.50223 5.94213 8 6.55546 8C7.16879 8 7.66656 7.50223 7.66656 6.8889V2.66667C7.66659 2.36 7.54215 2.08223 7.34215 1.88ZM3.88881 3.1111H1.22215V0.888896H3.88881V3.1111ZM6.55548 3.1111C6.31104 3.1111 6.11104 2.9111 6.11104 2.66667C6.11104 2.42223 6.31104 2.22223 6.55548 2.22223C6.79992 2.22223 6.99992 2.42223 6.99992 2.66667C6.99992 2.9111 6.79992 3.1111 6.55548 3.1111Z" fill="#B2F93B"/>
            </g>
            <defs>
            <clipPath id="clip0_0_213">
            <rect width="8" height="8" fill="white"/>
            </clipPath>
            </defs>
        </svg>            
        <div class="bgfuel">
            <svg width="34" height="142" viewBox="0 0 34 142" fill="none" xmlns="http://www.w3.org/2000/svg">
                <mask id="path-1-inside-1_34_21" fill="white">
                <path d="M3.05174 141.142C19.4483 122.018 29.8625 98.4973 32.9996 73.5032C36.1368 48.5091 31.8585 23.1441 20.6967 0.561698L17.6431 2.071C28.509 24.0548 32.6739 48.7474 29.6199 73.079C26.5659 97.4106 16.4278 120.308 0.465872 138.924L3.05174 141.142Z"/>
                </mask>
                <path d="M3.05174 141.142C19.4483 122.018 29.8625 98.4973 32.9996 73.5032C36.1368 48.5091 31.8585 23.1441 20.6967 0.561698L17.6431 2.071C28.509 24.0548 32.6739 48.7474 29.6199 73.079C26.5659 97.4106 16.4278 120.308 0.465872 138.924L3.05174 141.142Z" stroke="#B2F93B" stroke-dashoffset="508" stroke-dasharray={508 + fuel * 1.24} stroke-opacity="1" stroke-width="10" mask="url(#path-1-inside-1_34_21)"/>
            </svg>  
            <svg width="34" height="142" viewBox="0 0 34 142" fill="none" xmlns="http://www.w3.org/2000/svg">
                <mask id="path-1-inside-1_34_21" fill="white">
                <path d="M3.05174 141.142C19.4483 122.018 29.8625 98.4973 32.9996 73.5032C36.1368 48.5091 31.8585 23.1441 20.6967 0.561698L17.6431 2.071C28.509 24.0548 32.6739 48.7474 29.6199 73.079C26.5659 97.4106 16.4278 120.308 0.465872 138.924L3.05174 141.142Z"/>
                </mask>
                <path d="M3.05174 141.142C19.4483 122.018 29.8625 98.4973 32.9996 73.5032C36.1368 48.5091 31.8585 23.1441 20.6967 0.561698L17.6431 2.071C28.509 24.0548 32.6739 48.7474 29.6199 73.079C26.5659 97.4106 16.4278 120.308 0.465872 138.924L3.05174 141.142Z" stroke="white" stroke-opacity="0.15" stroke-width="10" mask="url(#path-1-inside-1_34_21)"/>
            </svg>                                            
        </div>
    </div>
</div>
{/if}

    <!-- <div class="hudevo__speedometr"  in:fly={{ x: 50, duration: 500 }} out:fly={{ x: 50, duration: 250 }}>
        <div class="hudevo__speedometr_bottom">
            <div class="box-flex">
                <span class="hudevoicon-fuel"></span>
                {FuelProcent}
            </div>
        </div>
        <div class="box-column">
            <div class="box-between">
                <div class="hudevo__speedometr_title" style="color: {engine ? getSpeedColor (speed, maxSpeed) : 'rgba(255, 255, 255, 0.3)'};">{speed}</div>
                <div class="box-column">
                    <div class="box-flex">
                        <div class="hudevoicon-left" class:active={leftIL}></div>
                        <div class="hudevoicon-right" class:active={rightIL}></div>
                    </div>
                    <div class="hudevo__speedometr_gray">{translateText('player2', 'км/ч')}</div>
                </div>
                <div class="box-column">
                    <div class="hudevoicon-engine hudevo__speedometr_icon" class:active={engine}></div>
                    <div class="hudevo__speedometr_text">{keysName[$keys[38]]}</div>
                </div>
                <div class="box-column">
                    <div class="hud__icon-cruisecontrol hudevo__speedometr_icon"></div>
                    <div class="hudevo__speedometr_text">{keysName[$keys[28]]}</div>
                </div>
                <div class="box-column">
                    <div class="hudevoicon-key hudevo__speedometr_icon" class:active={!doors}></div>
                    <div class="hudevo__speedometr_text">{keysName[$keys[39]]}</div>
                </div>
                <div class="box-column">
                    <div class="hudevoicon-bel hudevo__speedometr_icon" class:active={belt}></div>
                    <div class="hudevo__speedometr_text">G</div>
                </div>
            </div>
            <div class="hudevo__speedometr_fuel">
                <div class="filled" style="width: {FuelProcent}%"></div>
            </div>
        </div>
    </div> -->